#:kivy 2.0.0

<ItemLabel@Label>:
	font_size: '20'
	color: 0, 0, 0, 1

 # -----------------------------------------------------------------

<StartWindow>:
	name: "start"
	GridLayout:
		#start_capital: input_capital
		#game_duration: input_game_duration
		#tax: input_tax
		rows: 6

		canvas.before:
			Color:
				rgba: (0.95, 0.95, 0.95, 0.95)
			Rectangle:
				pos: self.pos
				size: self.size

		AnchorLayout:
			size_hint: 1, 0.09
			padding: [0,30, 0, 0]
			Label:
				font_size: "25"
				
				text:  "Параметры игры"
				color: 0, 0, 0, 1 
	    GridLayout:
	    	cols: 2
	    	rows: 5
	    	padding: 50
	    	spacing: 50

			ItemLabel:
		    	text: "Начальный капитал, у.е."
			NumericInput:
				id: input_capital
				min_value: 1
				max_value: 100000000
				text: '100000'
				input_filter: 'int'
				hint_text: 'Enter values between {} and {}'.format(self.min_value, self.max_value)
			
			ItemLabel:
		    	text: "Длительность работы фонда, мес"
			BoxLayout:
				orientation: 'vertical'
				MDLabel:
					text: str(int(input_game_duration.value))
					pos_hint: {"center_y": 0.6}
					font_style: "H6"
					halign: "center"
				MDSlider:
					id: input_game_duration
					min: 12
					max: 30
					value: 15

			ItemLabel:
		    	text: "Процент налога на доход, %"
			BoxLayout:
				orientation: 'vertical'
				MDLabel:
					text: str(int(input_tax.value))
					pos_hint: {"center_y": 0.6}
					font_style: "H6"
					halign: "center"
				MDSlider:
					id: input_tax
					min: 0
					max: 80
					value: 13

			ItemLabel:
		    	text: "Волатильность рынка"
			BoxLayout:
				padding: [120, 0, 120, 0]
				Spinner:
					id: input_volatility
					#size_hint: None, None
					size: 100, 44
					#pos_hint: {'center': (.5, .5)}
					text: 'Low'
					values: 'Low', 'Medium', 'High'
		BoxLayout:
			size_hint: (0.9, 0.15)
			color: 0, 1, 0, 1
			padding: [240, 0, 240, 20]
			Button:
				text: 'НАЧАТЬ ИГРУ'
				on_press:
					root.manager.transition.direction = "left"
					root.start_model()

# -----------------------------------------------------------------

<MainWindow>:
	name: "main"
	GridLayout:
		rows: 3

		canvas.before:
			Color:
				rgba: (0.95, 0.95, 0.95, 0.95)
			Rectangle:
				pos: self.pos
				size: self.size

		BoxLayout:
			orientation: 'horizontal'
			rows: 2

			BoxLayout:
				orientation: 'vertical'
				GridLayout:
					rows: 7
					cols: 3
					ItemLabel:
						text: 'Капитал фонда'
					ItemLabel:
						text: 'Всего,руб'
					ItemLabel:
						text: 'Весь период,руб'

					ItemLabel:
						bold: True
						text: 'Общий капитал'
					ItemLabel:
						bold: True
						text: '1120000'
					ItemLabel:
						bold:True
						text: '-20000(3.8%)'
						color: 1, 0, 0, 1

					ItemLabel:
						text: 'В активах'
					ItemLabel:
						text: '800000'
					ItemLabel:
						bold:True
						text: '-24000(3.8%)'
						color: 1, 0, 0, 1

					ItemLabel:
						text: 'В депозите'
					ItemLabel:
						text: '200000'
					ItemLabel:
						bold:True
						text: '+5000(0.5%)'
						color: 109/255, 214/255, 113/255, 1

					ItemLabel:
						text: 'Свободных'
					ItemLabel:
						text: '120000'
					ItemLabel:
						text: ''

					ItemLabel:
						text: ''
					ItemLabel:
						text: 'Всего, шт'
					ItemLabel:
						text: 'Общий доход,руб'

					ItemLabel:
						bold: True
						text: 'Паи фонда'
					ItemLabel:
						bold: True
						text: '1000'
					ItemLabel:
						bold: True
						text: '+100000'
						color: 109/255, 214/255, 113/255, 1

			#Buttons to end month
			BoxLayout:
				size_hint: (0.25, 1)

				GridLayout:
					rows: 3
					cols: 1
					AnchorLayout:
						padding: 60, 60, 60, 60
						canvas:
							Color:
								rgb: 110/255, 127/255, 214/255, 1
							Rectangle:
								pos: self.pos 
								size: self.size

						Label:
							font_size: '24'
							text: 'Месяц 1/36'
					BoxLayout:
						padding: 30, 30, 30, 30
						Button:
							background_color: 109/255, 214/255, 113/255, 1
							font_size: '24'
							text: 'Закончить ход'
					BoxLayout:
						padding: 30, 30, 30, 30
						Button:
							background_color: 219/255, 100/255, 113/255, 1
							font_size: '24'
							text: 'Начать заново'
							on_press: 
								root.restart_game()

							

		BoxLayout:
			size_hint: (1, 0.1)
			GridLayout:
				rows: 1
				cols: 3
				BoxLayout:
					Button:
						text: "Показать"
				BoxLayout:
					padding: [120, 0, 120, 0]
					Spinner:
						id: input_volatility
						#size_hint: None, None
						size: 100, 44
						#pos_hint: {'center': (.5, .5)}
						text: 'Рынок'
						values: 'Рынок', 'Мой портфель'
				BoxLayout:
					padding: [120, 0, 120, 0]
					Spinner:
						id: input_volatility
						#size_hint: None, None
						size: 100, 44
						#pos_hint: {'center': (.5, .5)}
						text: 'Активы'
						values: 'Активы', 'Депозиты'
		BoxLayout:
			size_hint: (1, 1)
			BoxLayout:
				id: table
		
